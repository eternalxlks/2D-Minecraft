<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2D Minecraft with Player</title>
    <style>
        body {
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: #87CEEB; /* Sky blue */
        }
        canvas {
            border: 2px solid #000;
            background: #87CEEB;
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas"></canvas>
    <script>
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");

        // Set canvas size
        const TILE_SIZE = 32;
        const ROWS = 15;
        const COLS = 20;
        canvas.width = COLS * TILE_SIZE;
        canvas.height = ROWS * TILE_SIZE;

        // Initialize grid
        const grid = Array.from({ length: ROWS }, () => Array(COLS).fill(null));

        // Block types
        const BLOCK_TYPES = {
            DIRT: "brown",
            GRASS: "green",
            STONE: "gray",
        };

        // Player properties
        const player = {
            x: 5, // Grid position (column)
            y: 10, // Grid position (row)
            color: "blue",
        };

        // Current selected block type
        let currentBlock = BLOCK_TYPES.DIRT;

        // Draw the grid and player
        function drawGrid() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            for (let row = 0; row < ROWS; row++) {
                for (let col = 0; col < COLS; col++) {
                    const block = grid[row][col];
                    if (block) {
                        ctx.fillStyle = block;
                        ctx.fillRect(col * TILE_SIZE, row * TILE_SIZE, TILE_SIZE, TILE_SIZE);
                    }
                    ctx.strokeStyle = "black";
                    ctx.strokeRect(col * TILE_SIZE, row * TILE_SIZE, TILE_SIZE, TILE_SIZE);
                }
            }

            // Draw the player
            ctx.fillStyle = player.color;
            ctx.fillRect(player.x * TILE_SIZE, player.y * TILE_SIZE, TILE_SIZE, TILE_SIZE);
        }

        // Place or remove blocks
        function interactWithBlock() {
            const { x, y } = player;
            if (grid[y][x]) {
                grid[y][x] = null; // Remove block
            } else {
                grid[y][x] = currentBlock; // Place block
            }
        }

        // Handle player movement
        function movePlayer(dx, dy) {
            const newX = player.x + dx;
            const newY = player.y + dy;

            if (newX >= 0 && newX < COLS && newY >= 0 && newY < ROWS) {
                player.x = newX;
                player.y = newY;
            }
        }

        // Handle keyboard input
        window.addEventListener("keydown", (e) => {
            switch (e.key) {
                case "ArrowUp":
                    movePlayer(0, -1); // Move up
                    break;
                case "ArrowDown":
                    movePlayer(0, 1); // Move down
                    break;
                case "ArrowLeft":
                    movePlayer(-1, 0); // Move left
                    break;
                case "ArrowRight":
                    movePlayer(1, 0); // Move right
                    break;
                case " ":
                    interactWithBlock(); // Place/remove block
                    break;
                case "1":
                    currentBlock = BLOCK_TYPES.DIRT;
                    break;
                case "2":
                    currentBlock = BLOCK_TYPES.GRASS;
                    break;
                case "3":
                    currentBlock = BLOCK_TYPES.STONE;
                    break;
            }
            drawGrid();
        });

        // Initial draw
        drawGrid();
    </script>
</body>
</html>
